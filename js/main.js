$(document).ready(function(){$(".form__select").on("click",".form__select-head",function(){$(this).hasClass("open")?($(this).removeClass("open"),$(this).next().fadeOut()):($(".form__select-head").removeClass("open"),$(".form__select-list").fadeOut(),$(this).addClass("open"),$(this).next().fadeIn())});$(".form__select").on("click",".form__select-item",function(){$(".form__select-head").removeClass("open");$(this).parent().fadeOut();$(this).parent().prev().text($(this).text());$(this).parent().prev().prev().val($(this).text())});$(document).click(function(e){if(!$(e.target).closest(".form__select").length){$(".form__select-head").removeClass("open");$(".form__select-list").fadeOut()}});let slider=document.getElementById("range"),output=document.getElementById("range-value");output.innerHTML=slider.value;slider.oninput=function(){output.innerHTML=this.value};$("#order-form").on("submit",function(e){let isValid=true;$(".error").hide();$(".form__input").removeClass("invalid");let selectInput=$('.form__select input[type="hidden"]');if(selectInput.val()===''){isValid=false;$(".form__select-head").addClass("invalid");$("#select-error").show()}const validateInput=(input,regex,errorId)=>{const value=input.val().trim();if(!regex.test(value)||value===''){isValid=false;input.addClass("invalid");$(errorId).show()}};validateInput($("#e-mail"),/^[^\s@]+@[^\s@]+\.[^\s@]+$/,"#email-error");validateInput($("#name"),/^.+$/,"#name-error");if(!isValid){e.preventDefault()}});$(".form__input").on("input",function(){let input=$(this),value=input.val().trim(),isEmail=input.attr("type")==="email";const regex=isEmail?/^[^\s@]+@[^\s@]+\.[^\s@]+$/:/^.+$/;if(regex.test(value)){input.addClass("valid");isEmail?$("#email-error").hide():$("#name-error").hide()}else{input.removeClass("valid");isEmail?$("#email-error").show():$("#name-error").show()}});$(".form__select-item").on("click",function(){let selectedText=$(this).text();if($('.form__select input[type="hidden"]').val(selectedText)){$(".form__select-head").text(selectedText).addClass("valid");$("#select-error").hide()}else{$(".form__select-head").text(selectedText).addClass("invalid");$("#select-error").show()}});$('.form__choose input[type="file"]').on('change',function(){const fileName=$(this).val().split('\\').pop();if(fileName){$(this).next('span').text(fileName)}else{$(this).next('span').text('Прикрепите файл')}})});